{"version":3,"sources":["App.js","index.js"],"names":["socket","socketid","Math","random","toString","substr","App","useState","roomId","setRoomID","password","setPassword","reqUrl","setUrl","buttonText","setButtonText","sendDataToServer","url","a","Error","config","method","headers","axios","res","emit","message","useEffect","io","on","data","urlData","socketId","toLowerCase","includes","setTimeout","window","location","reload","id","document","getElementById","className","type","value","onChange","e","preventDefault","target","handleRoomInput","placeholder","handlePasswordInput","onClick","ReactDOM","render","StrictMode"],"mappings":"mIAMIA,E,mHACAC,EAAW,IAAMC,KAAKC,SAASC,SAAS,IAAIC,OAAO,EAAG,GAoH3CC,MAhHf,WACI,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAyBJ,mBAAS,IAAlC,mBAAOK,EAAP,KAAeC,EAAf,KAEA,EAAoCN,mBAAS,gBAA7C,mBAAOO,EAAP,KAAmBC,EAAnB,KALW,SA2DIC,EA3DJ,8EA2DX,WAAgCC,GAAhC,iBAAAC,EAAA,kEAEaD,EAFb,sBAGkBE,MAAM,wBAHxB,cAKYC,EAAS,CACTC,OAAQ,MACRJ,IAAKA,EACLK,QAAS,CACL,OAAU,qBAT1B,SAY0BC,IAAMH,GAZhC,OAYcI,EAZd,OAaQxB,EAAOyB,KAAK,mBAAoBD,GAbxC,kDAgBQxB,EAAOyB,KAAK,aAAc,KAAMC,SAhBxC,2DA3DW,sBA0FX,OAnFAC,qBAAU,YACN3B,EAAS4B,IAXA,0BAaFC,GAAG,gBAAgB,SAAAC,GAGtB,IAAIC,EAAUD,EAAKb,IAEfa,EAAKE,WAAa/B,GAAa8B,EAAQE,cAAcC,SAAS,YAM9DlB,GAAiB,IAJjBH,EAAOiB,EAAKb,KACZD,EAAiBc,EAAKb,SAO9BjB,EAAO6B,GAAG,eAAe,WAErBd,EAAc,YACdoB,YAAW,WACPC,OAAOC,SAASC,WACjB,SAGPtC,EAAO6B,GAAG,eAAe,SAACU,GAGlBA,IAAOtC,IAEPc,EAAc,oBACdyB,SAASC,eAAe,eAAeC,UAAY,qBAI3D1C,EAAO6B,GAAG,cAAc,WACpB7B,EAAOyB,KAAK,OAAQxB,QAGzB,IA4CC,sBAAKyC,UAAU,eAAf,UACI,qBAAKA,UAAU,aAAf,SACI,qDAEJ,sBAAKA,UAAU,YAAf,UACI,uBAAOC,KAAK,OAAOC,MAAOpC,EAAQqC,SAAU,SAACC,IAjBzD,SAAyBA,GACrBA,EAAEC,iBACFtC,EAAUqC,EAAEE,OAAOJ,OAe0CK,CAAgBH,IAAMI,YAAY,aAAmB,uBAC1G,uBAAOP,KAAK,WAAWC,MAAOlC,EAAUmC,SAAU,SAACC,IAb/D,SAA6BA,GACzBA,EAAEC,iBACFpC,EAAYmC,EAAEE,OAAOJ,OAW8CO,CAAoBL,IAAMI,YAAY,mBAFrG,IAE+H,uBAC3H,uBACA,sBAAKR,UAAU,iBAAf,UACI,qBAAKA,UAAU,YAAYU,QAAS,SAACN,GAAQA,EAAEC,iBAlD3D/C,EAAOyB,KAAK,cAAe,CAAEjB,SAAQE,WAAUT,cAkDnC,SAAmFa,IAAiB,uBACpG,qBAAK4B,UAAU,kBAAkBH,GAAG,gBACpC,qBAAKG,UAAU,cAAcU,QAAS,SAACN,GAAQA,EAAEC,iBAhD7DP,SAASC,eAAe,eAAeC,UAAY,kBACnD3B,EAAc,gBACdf,EAAOyB,KAAK,WAAYxB,IA8CZ,+BAAwG,uBACxG,sBAAKyC,UAAU,aAAf,gCACuB,uBADvB,IAC+B9B,eC/GnDyC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFf,SAASC,eAAe,U","file":"static/js/main.83c123fd.chunk.js","sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from \"react\";\nimport io from 'socket.io-client'\nimport axios from 'axios';\n\n\nlet socket;\nlet socketid = '_' + Math.random().toString(36).substr(2, 9);\nconst ENDPOINT = \"http://localhost:5000\";\n// const ENDPOINT = \"/\";\n\nfunction App() {\n    const [roomId, setRoomID] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [reqUrl, setUrl] = useState(\"\")\n\n    const [buttonText, setButtonText] = useState(\"Authenticate\");\n\n    useEffect(() => {\n        socket = io(ENDPOINT)\n\n        socket.on(\"getProxyData\", data => {\n            // console.log(data);\n            /**@type {String} urlData */\n            let urlData = data.url;\n            // console.log(\"URLDATA => \", urlData.toLowerCase().includes('download'))\n            if (data.socketId === socketid && !urlData.toLowerCase().includes('download')) {\n                // console.log(\"Sending true\")\n                setUrl(data.url);\n                sendDataToServer(data.url);\n            } else {\n                // console.log(\"Sending false\")\n                sendDataToServer(false);\n            }\n        })\n\n        socket.on(\"AuthFailure\", () => {\n            // console.log(\"Auth Failure\")\n            setButtonText(\"Mismatch\")\n            setTimeout(() => {\n                window.location.reload();\n            }, 1500)\n        })\n\n        socket.on(\"AuthSuccess\", (id) => {\n            // console.log(id)\n            // console.log(socketid)\n            if (id === socketid) {\n                // console.log(\"Auth success\")\n                setButtonText(\"Server Connected\")\n                document.getElementById(\"main-loader\").className = \"loader enabled\"\n            }\n        })\n\n        socket.on(\"disconnect\", () => {\n            socket.emit(\"stop\", socketid)\n        })\n\n    }, [])\n\n    function handleClick() {\n        socket.emit('CreateProxy', { roomId, password, socketid })\n    }\n\n    function override() {\n        document.getElementById(\"main-loader\").className = \"loader disabled\"\n        setButtonText(\"Authenticate\")\n        socket.emit('override', socketid);\n    }\n\n    async function sendDataToServer(url) {\n        try {\n            if (!url) {\n                throw Error(\"Cannot download data\");\n            }\n            let config = {\n                method: 'get',\n                url: url,\n                headers: {\n                    'accept': 'application/json',\n                }\n            };\n            const res = await axios(config);\n            socket.emit(\"ProxyDataSuccess\", res);\n\n        } catch (error) {\n            socket.emit(\"ProxyError\", error.message)\n        }\n    }\n\n    function handleRoomInput(e) {\n        e.preventDefault();\n        setRoomID(e.target.value);\n    }\n\n    function handlePasswordInput(e) {\n        e.preventDefault();\n        setPassword(e.target.value);\n    }\n\n\n    return (\n        <div className='main-wrapper'>\n            <div className='main-title'>\n                <h1>Proxy Credentials</h1>\n            </div>\n            <div className=\"main-form\">\n                <input type=\"text\" value={roomId} onChange={(e) => { handleRoomInput(e) }} placeholder=\"Proxy ID\"></input><br />\n                <input type=\"password\" value={password} onChange={(e) => { handlePasswordInput(e) }} placeholder=\"Proxy Password\"></input> <br />\n                <br></br>\n                <div className=\"button-wrapper\">\n                    <div className=\"button on\" onClick={(e) => { e.preventDefault(); handleClick() }}>{buttonText}</div><br></br>\n                    <div className=\"loader disabled\" id=\"main-loader\"></div>\n                    <div className=\"button stop\" onClick={(e) => { e.preventDefault(); override() }}>Terminate session</div><br></br>\n                    <div className=\"server-url\">\n                        Currently fetched :<br /> {reqUrl}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}