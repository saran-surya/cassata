(this["webpackJsonppersonal-proxy"]=this["webpackJsonppersonal-proxy"]||[]).push([[0],{101:function(e,t,n){"use strict";n.r(t);var a,r=n(7),c=n.n(r),s=n(43),o=n.n(s),i=n(18),l=n.n(i),u=n(44),d=n(11),j=(n(52),n(45)),b=n.n(j),p=n(46),m=n.n(p),h=n(0),x="_"+Math.random().toString(36).substr(2,9);var f=function(){var e=Object(r.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(""),o=Object(d.a)(s,2),i=o[0],j=o[1],p=Object(r.useState)(""),f=Object(d.a)(p,2),O=f[0],v=f[1],y=Object(r.useState)("Authenticate"),w=Object(d.a)(y,2),g=w[0],C=w[1];function N(e){return k.apply(this,arguments)}function k(){return(k=Object(u.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t){e.next=3;break}throw Error("Cannot download data");case 3:return n={method:"get",url:t,headers:{accept:"application/json"}},e.next=6,m()(n);case 6:r=e.sent,a.emit("ProxyDataSuccess",r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a.emit("ProxyError",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){(a=b()("http://localhost:5000")).on("getProxyData",(function(e){var t=e.url;e.socketId!==x||t.toLowerCase().includes("download")?N(!1):(v(e.url),N(e.url))})),a.on("AuthFailure",(function(){C("Mismatch"),setTimeout((function(){window.location.reload()}),1500)})),a.on("AuthSuccess",(function(e){e===x&&(C("Server Connected"),document.getElementById("main-loader").className="loader enabled")})),a.on("disconnect",(function(){a.emit("stop",x)}))}),[]),Object(h.jsxs)("div",{className:"main-wrapper",children:[Object(h.jsx)("div",{className:"main-title",children:Object(h.jsx)("h1",{children:"Proxy Credentials"})}),Object(h.jsxs)("div",{className:"main-form",children:[Object(h.jsx)("input",{type:"text",value:n,onChange:function(e){!function(e){e.preventDefault(),c(e.target.value)}(e)},placeholder:"Proxy ID"}),Object(h.jsx)("br",{}),Object(h.jsx)("input",{type:"password",value:i,onChange:function(e){!function(e){e.preventDefault(),j(e.target.value)}(e)},placeholder:"Proxy Password"})," ",Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"button-wrapper",children:[Object(h.jsx)("div",{className:"button on",onClick:function(e){e.preventDefault(),a.emit("CreateProxy",{roomId:n,password:i,socketid:x})},children:g}),Object(h.jsx)("br",{}),Object(h.jsx)("div",{className:"loader disabled",id:"main-loader"}),Object(h.jsx)("div",{className:"button stop",onClick:function(e){e.preventDefault(),document.getElementById("main-loader").className="loader disabled",C("Authenticate"),a.emit("override",x)},children:"Terminate session"}),Object(h.jsx)("br",{}),Object(h.jsxs)("div",{className:"server-url",children:["Currently fetched :",Object(h.jsx)("br",{})," ",O]})]})]})]})};o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(f,{})}),document.getElementById("root"))},52:function(e,t,n){}},[[101,1,2]]]);
//# sourceMappingURL=main.83c123fd.chunk.js.map