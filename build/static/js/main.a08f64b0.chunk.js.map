{"version":3,"sources":["App.js","index.js"],"names":["socket","socketid","Math","floor","random","App","useState","roomId","setRoomID","password","setPassword","reqUrl","setUrl","buttonText","setButtonText","url","a","config","method","headers","axios","res","emit","message","useEffect","io","on","data","socketId","sendDataToServer","setTimeout","window","location","reload","id","document","getElementById","className","type","value","onChange","e","preventDefault","target","handleRoomInput","placeholder","handlePasswordInput","onClick","ReactDOM","render","StrictMode"],"mappings":"mIAMIA,E,mHACAC,EAAWC,KAAKC,MAAuB,IAAhBD,KAAKE,SAAkB,GA4GnCC,MAxGf,WACI,MAA4BC,mBAAS,IAArC,mBAAOC,EAAP,KAAeC,EAAf,KACA,EAAgCF,mBAAS,IAAzC,mBAAOG,EAAP,KAAiBC,EAAjB,KACA,EAAyBJ,mBAAS,IAAlC,mBAAOK,EAAP,KAAeC,EAAf,KAEA,EAAoCN,mBAAS,gBAA7C,mBAAOO,EAAP,KAAmBC,EAAnB,KALW,4CAoDX,WAAgCC,GAAhC,iBAAAC,EAAA,sEAGYC,EAAS,CACTC,OAAQ,MACRH,IAAKA,EACLI,QAAS,CACL,OAAU,qBAP1B,SAU0BC,IAAMH,GAVhC,OAUcI,EAVd,OAYQrB,EAAOsB,KAAK,mBAAoBD,GAZxC,gDAeQrB,EAAOsB,KAAK,aAAc,KAAMC,SAfxC,0DApDW,sBAkFX,OA3EAC,qBAAU,YACNxB,EAASyB,IAVA,MAYFC,GAAG,gBAAgB,SAAAC,GAEnBA,EAAKC,WAAa3B,IACjBW,EAAOe,EAAKZ,KAbb,oCAcCc,CAAiBF,EAAKZ,SAI9Bf,EAAO0B,GAAG,eAAe,WAErBZ,EAAc,YACdgB,YAAW,WACPC,OAAOC,SAASC,WACjB,SAGPjC,EAAO0B,GAAG,eAAe,SAACQ,GAGnBA,IAAOjC,IAENa,EAAc,oBACdqB,SAASC,eAAe,eAAeC,UAAY,qBAI3DrC,EAAO0B,GAAG,cAAc,WACpB1B,EAAOsB,KAAK,OAAQrB,QAGzB,IA2CC,sBAAKoC,UAAU,eAAf,UACI,qBAAKA,UAAU,aAAf,SACI,qDAEJ,sBAAKA,UAAU,YAAf,UACI,uBAAOC,KAAK,OAAOC,MAAOhC,EAAQiC,SAAU,SAACC,IAjBzD,SAAyBA,GACrBA,EAAEC,iBACFlC,EAAUiC,EAAEE,OAAOJ,OAe0CK,CAAgBH,IAAMI,YAAY,aAAmB,uBAC1G,uBAAOP,KAAK,WAAWC,MAAO9B,EAAU+B,SAAU,SAACC,IAb/D,SAA6BA,GACzBA,EAAEC,iBACFhC,EAAY+B,EAAEE,OAAOJ,OAW8CO,CAAoBL,IAAMI,YAAY,mBAFrG,IAE+H,uBAC3H,uBACA,sBAAKR,UAAU,iBAAf,UACI,qBAAKA,UAAU,YAAYU,QAAS,SAACN,GAAQA,EAAEC,iBAjD3D1C,EAAOsB,KAAK,cAAe,CAAEf,SAAQE,WAAUR,cAiDnC,SAAmFY,IAAiB,uBACpG,qBAAKwB,UAAU,kBAAkBH,GAAK,gBACtC,qBAAKG,UAAU,cAAcU,QAAS,SAACN,GAAQA,EAAEC,iBA/C7DP,SAASC,eAAe,eAAeC,UAAY,kBACnDvB,EAAc,gBACdd,EAAOsB,KAAK,WAAYrB,IA6CZ,+BAAwG,uBACxG,sBAAKoC,UAAY,aAAjB,gCACuB,uBADvB,IAC+B1B,eCvGnDqC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFf,SAASC,eAAe,U","file":"static/js/main.a08f64b0.chunk.js","sourcesContent":["import './App.css';\nimport React, { useState, useEffect } from \"react\";\nimport io from 'socket.io-client'\nimport axios from 'axios';\n\n\nlet socket;\nlet socketid = Math.floor((Math.random() * 100) + 1);\n// const ENDPOINT = \"http://localhost:5000\";\nconst ENDPOINT = \"/\";\n\nfunction App() {\n    const [roomId, setRoomID] = useState(\"\")\n    const [password, setPassword] = useState(\"\")\n    const [reqUrl, setUrl] = useState(\"\")\n\n    const [buttonText, setButtonText] = useState(\"Authenticate\");\n\n    useEffect(() => {\n        socket = io(ENDPOINT)\n\n        socket.on(\"getProxyData\", data => {\n            // console.log(data);\n            if(data.socketId === socketid){\n                setUrl(data.url);\n                sendDataToServer(data.url);\n            }\n        })\n\n        socket.on(\"AuthFailure\", () => {\n            // console.log(\"Auth Failure\")\n            setButtonText(\"Mismatch\")\n            setTimeout(()=>{\n                window.location.reload();\n            }, 1500)\n        })\n\n        socket.on(\"AuthSuccess\", (id) => {\n            // console.log(id)\n            // console.log(socketid)\n            if(id === socketid){\n                // console.log(\"Auth success\")\n                setButtonText(\"Server Connected\")\n                document.getElementById(\"main-loader\").className = \"loader enabled\"\n            }\n        })\n\n        socket.on(\"disconnect\", ()=>{\n            socket.emit(\"stop\", socketid)\n        })\n\n    }, [])\n\n    function handleClick() {\n        socket.emit('CreateProxy', { roomId, password, socketid })\n    }\n\n    function override() {\n        document.getElementById(\"main-loader\").className = \"loader disabled\"\n        setButtonText(\"Authenticate\")\n        socket.emit('override', socketid);\n    }\n\n    async function sendDataToServer(url) {\n        // console.log(url)\n        try {\n            let config = {\n                method: 'get',\n                url: url,\n                headers: {\n                    'accept': 'application/json',\n                }\n            };\n            const res = await axios(config);\n            // console.log(res);\n            socket.emit(\"ProxyDataSuccess\", res);\n\n        } catch (error) {\n            socket.emit(\"ProxyError\", error.message)\n        }\n    }\n\n    function handleRoomInput(e) {\n        e.preventDefault();\n        setRoomID(e.target.value);\n    }\n\n    function handlePasswordInput(e) {\n        e.preventDefault();\n        setPassword(e.target.value);\n    }\n\n\n    return (\n        <div className='main-wrapper'>\n            <div className='main-title'>\n                <h1>Proxy Credentials</h1>\n            </div>\n            <div className=\"main-form\">\n                <input type=\"text\" value={roomId} onChange={(e) => { handleRoomInput(e) }} placeholder=\"Proxy ID\"></input><br />\n                <input type=\"password\" value={password} onChange={(e) => { handlePasswordInput(e) }} placeholder=\"Proxy Password\"></input> <br />\n                <br></br>\n                <div className=\"button-wrapper\">\n                    <div className=\"button on\" onClick={(e) => { e.preventDefault(); handleClick() }}>{buttonText}</div><br></br>\n                    <div className=\"loader disabled\" id = \"main-loader\"></div>\n                    <div className=\"button stop\" onClick={(e) => { e.preventDefault(); override() }}>Terminate session</div><br></br>\n                    <div className = \"server-url\">\n                        Currently fetched :<br /> {reqUrl}\n                </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}